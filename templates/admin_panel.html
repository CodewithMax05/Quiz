{% extends "base.html" %}

{% block head %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles_admin.css') }}"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
{% endblock %}

{% block body %}
<div class="page-wrapper">
    
    <nav class="navbar navbar-dark admin-nav">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <i class="fas fa-crown me-2"></i>Quiz-App Admin
            </a>
            <div class="navbar-nav flex-row">
                <a class="nav-link me-2 sound-button" href="{{ url_for('homepage') }}" title="Homepage">
                    <i class="fas fa-home"></i>
                    <span class="nav-link-text">Homepage</span>
                </a>
                <a class="nav-link sound-button" href="{{ url_for('logout') }}" title="Abmelden">
                    <i class="fas fa-sign-out-alt"></i>
                    <span class="nav-link-text">Abmelden</span>
                </a>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <h2 class="mb-4 admin-title">Admin-Dashboard</h2>
        
        <div class="row mb-4 stats-row">
            <div class="col-md-4 col-sm-6 col-12 mb-3">
                <div class="card stat-card text-white bg-primary h-100">
                    <div class="card-body">
                        <h5 class="card-title">Benutzer</h5>
                        <p class="card-text display-6">{{ total_users }}</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 col-sm-6 col-12 mb-3">
                <div class="card stat-card text-white bg-success h-100">
                    <div class="card-body">
                        <h5 class="card-title">Fragen</h5>
                        <p class="card-text display-6">{{ total_questions }}</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 col-sm-12 col-12 mb-3">
                <div class="card stat-card text-white bg-warning h-100">
                    <div class="card-body">
                        <h5 class="card-title">Tickets</h5>
                        <p class="card-text display-6">{{ total_tickets }}</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3 d-flex">
                <div class="card admin-card w-100 h-100">
                    <div class="card-header">Datenbank</div>
                    <div class="card-body d-flex align-items-center justify-content-center">
                        <a href="{{ url_for('db_stats') }}" class="btn btn-outline-primary w-100 admin-card-btn sound-button">
                            <i class="fas fa-chart-bar me-1"></i> Datenbank-Statistiken
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-md-6 mb-3 d-flex">
                <div class="card admin-card w-100 h-100">
                    <div class="card-header">Tickets</div>
                    <div class="card-body d-flex align-items-center justify-content-center">
                        <a href="{{ url_for('tickets_admin') }}" class="btn btn-outline-warning w-100 admin-card-btn sound-button">
                            <i class="fas fa-headset me-1"></i> Tickets anzeigen
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-md-6 mb-3 d-flex">
                <div class="card admin-card w-100 h-100">
                    <div class="card-header">News</div>
                    <div class="card-body d-flex align-items-center justify-content-center">
                        <a href="{{ url_for('news_admin') }}" class="btn btn-outline-info w-100 admin-card-btn sound-button">
                            <i class="fas fa-newspaper me-1"></i> News verwalten
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-md-6 mb-3 d-flex">
                <div class="card admin-card w-100 h-100">
                    <div class="card-header">Navigation</div>
                    <div class="card-body d-flex align-items-center justify-content-center">
                        <a href="{{ url_for('homepage') }}" class="btn btn-outline-secondary w-100 admin-card-btn sound-button">
                            <i class="fas fa-arrow-left me-1"></i> Zur√ºck zur Homepage
                        </a>
                    </div>
                </div>
            </div>
        </div>








        <div class="card mt-4 admin-card">
            <div class="card-header">Fragenverwaltung</div>
            <div class="card-body">
                <form method="post" action="{{ url_for('add_question') }}">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                    <div class="mb-3">
                        <label class="form-label">Thema</label>
                        <div class="theme-radio-container">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subject" id="topic-wirtschaft" value="wirtschaft" required>
                                <label class="form-check-label" for="topic-wirtschaft">Wirtschaft</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subject" id="topic-technologie" value="technologie">
                                <label class="form-check-label" for="topic-technologie">Technologie</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subject" id="topic-sprache" value="sprache">
                                <label class="form-check-label" for="topic-sprache">Sprache</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subject" id="topic-promis" value="promis">
                                <label class="form-check-label" for="topic-promis">Promis</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subject" id="topic-sport" value="sport">
                                <label class="form-check-label" for="topic-sport">Sport</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subject" id="topic-natur" value="natur">
                                <label class="form-check-label" for="topic-natur">Natur</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subject" id="topic-musik" value="musik">
                                <label class="form-check-label" for="topic-musik">Musik</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subject" id="topic-glauben" value="glauben">
                                <label class="form-check-label" for="topic-glauben">Glauben</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subject" id="topic-kunst" value="kunst">
                                <label class="form-check-label" for="topic-kunst">Kunst</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subject" id="topic-geschichte" value="geschichte">
                                <label class="form-check-label" for="topic-geschichte">Geschichte</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subject" id="topic-geographie" value="geographie">
                                <label class="form-check-label" for="topic-geographie">Geographie</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subject" id="topic-essen" value="essen">
                                <label class="form-check-label" for="topic-essen">Essen</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subject" id="topic-filme" value="filme">
                                <label class="form-check-label" for="topic-filme">Filme</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subject" id="topic-automobil" value="automobil">
                                <label class="form-check-label" for="topic-automobil">Automobil</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subject" id="topic-astrologie" value="astrologie">
                                <label class="form-check-label" for="topic-astrologie">Astrologie</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subject" id="topic-gaming" value="gaming">
                                <label class="form-check-label" for="topic-gaming">Gaming</label>
                            </div>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Frage</label>
                        <textarea class="form-control admin-input" name="question" rows="2" required></textarea>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Richtige Antwort</label>
                        <input type="text" class="form-control admin-input" name="true" required>
                    </div>
                    <div class="row">
                        <div class="col-md-4 mb-3">
                            <label class="form-label">Falsche Antwort 1</label>
                            <input type="text" class="form-control admin-input" name="wrong1" required>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label class="form-label">Falsche Antwort 2</label>
                            <input type="text" class="form-control admin-input" name="wrong2" required>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label class="form-label">Falsche Antwort 3</label>
                            <input type="text" class="form-control admin-input" name="wrong3" required>
                        </div>
                    </div>
                    <button type="submit" class="btn admin-btn-success">
                        <i class="fas fa-plus-circle me-1"></i> Frage hinzuf√ºgen
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}