{% extends "base.html" %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles_evaluate.css') }}"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
{% endblock %}

{% block body %}    
    <div class="result-container">
        <h1>GlÃ¼ckwunsch {{ session.username }},<br>du hast das Quiz erfolgreich abgeschlossen!</h1>
        
        <div class="score-display">
            <div class="correct-answers">
                <span class="correct">{{ correct_answers }}</span> von 
                <span class="total">{{ total }}</span> Fragen richtig
            </div>
            <div class="points-earned">
                Punktzahl: <span class="points">{{ score }}</span>
            </div>
        </div>
        
        <div class="performance-rating">
            {% if correct_answers == total %}
                <div class="perfect">
                    <span>ğŸ† Perfektes Ergebnis!</span>
                    <p>Alle Fragen richtig beantwortet - herausragende Leistung!</p>
                </div>
            {% elif correct_answers >= total * 0.8 %}
                <div class="excellent">
                    <span>â­ GroÃŸartige Leistung!</span>
                    <p>Du bist auf dem besten Weg zum Quiz-Meister!</p>
                </div>
            {% elif correct_answers >= total * 0.65 %}
                <div class="good">
                    <span>ğŸ‘ Gute Arbeit!</span>
                    <p>Solides Wissen - nur noch wenige LÃ¼cken!</p>
                </div>
            {% elif correct_answers >= total * 0.5 %}
                <div class="average">
                    <span>ğŸ’ª Weiter so!</span>
                    <p>Die HÃ¤lfte geschafft - mit etwas Ãœbung schaffst du mehr!</p>
                </div>
            {% else %}
                <div class="improve">
                    <span>ğŸ“š Lernzeit!</span>
                    <p>Nutze die Chance, dein Wissen zu erweitern!</p>
                </div>
            {% endif %}
        </div>
        
        <div class="highscore-info">
            <div class="current-highscore">
                Dein aktueller Highscore: <span>{{ highscore }}</span> Punkte
            </div>
            
            {% if new_highscore %}
                <div class="new-highscore">
                    ğŸ‰ {{ score }} ist dein neuer Rekord! ğŸ‰
                </div>
            {% endif %}
        </div>
        <div class="action-buttons-evaluate">
            <a href="{{ url_for('ranking') }}" class="ranking-button sound-button" aria-label="Ranking">
                <i class="fas fa-trophy"></i>
            </a>
            <a href="{{ url_for('homepage') }}" class="home-button sound-button">
                ZurÃ¼ck zur Startseite
            </a>
        </div>
    </div>
{% endblock %}