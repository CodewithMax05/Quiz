{% extends "base.html" %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles_login.css') }}"/>
{% endblock %}

{% block body %}
<div class="login-wrapper">
    <div class="container"> 
        <h1>Willkommen</h1>
        
        <form id="auth-form" action="{{ url_for('login') }}" method="post"> 
            <input type="text" name="username" placeholder="Username" class="input-field" required>
            <input type="password" name="password" placeholder="Password" class="input-field" required>
            <input type="submit" value="Login" class="btn btn-login" onclick="setFormAction('login')">
            <input type="button" value="Register" class="btn btn-register" onclick="setFormAction('register')">
        </form>
    </div>

    {% if error %}
        <div class="error-message">{{ error }}</div>
    {% endif %}
</div>
<script>
    function setFormAction(action) {
        const form = document.getElementById('auth-form');
        if (action === 'login') {
            form.action = "{{ url_for('login') }}";
        } else if (action === 'register') { 
            form.action = "{{ url_for('register') }}";
        }
    }
</script>
{% endblock %}