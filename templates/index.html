{% extends "base.html" %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles_login.css') }}"/>
{% endblock %}

{% block body %}
<div class="login-wrapper">
    <div class="container"> 
        <h1>Willkommen</h1>
        
        <form id="auth-form" method="post"> 
            <input type="text" name="username" placeholder="Username" class="input-field" required>
            <input type="password" name="password" placeholder="Password" class="input-field" required>
            <input type="button" value="Login" class="btn btn-login" onclick="setFormAction('login')">
            <input type="button" value="Register" class="btn btn-register" onclick="setFormAction('register')">
        </form>
    </div>

    {% if error %}
        <div class="error-message">{{ error }}</div>
    {% endif %}
</div>
<script>
    function submitForm(action) {
        const form = document.getElementById('auth-form');
        
        // Setze die korrekte URL basierend auf der Aktion
        form.action = action === 'login' 
            ? "{{ url_for('login') }}" 
            : "{{ url_for('register') }}";
        form.method = "post";       
        // Sende das Formular ab
        form.submit();
    }
</script>
{% endblock %}