{% extends "base.html" %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles_ranking.css') }}"/>
{% endblock %}

{% block body %}
    <!-- Sternenhintergrund -->
    <div class="stars-background">
        <div class="stars"></div>
        <div class="stars2"></div>
        <div class="stars3"></div>
    </div>

    <!-- Flexibler Haupt-Wrapper -->
    <div class="ranking-wrapper">
        <!-- Ãœberschrift oben Ã¼ber beide Spalten -->
        <h1>Top 10 Spieler</h1>

        <!-- Linke Spalte: Leaderboard -->
        <div class="ranking-left">
            <div class="leaderboard">
                <div class="leaderboard-header">
                    <div class="header-item">Platz</div>
                    <div class="header-item">Username</div>
                    <div class="header-item">Punkte</div>
                    <div class="header-item">Datum</div>
                </div>
                <div class="leaderboard-content">
                    {% for player in top_players %}
                    <div class="leaderboard-row {% if loop.index <= 3 %}podium{% endif %}">
                        <div class="leaderboard-cell position">
                            {% if loop.index == 1 %}ðŸ¥‡
                            {% elif loop.index == 2 %}ðŸ¥ˆ
                            {% elif loop.index == 3 %}ðŸ¥‰
                            {% else %}{{ loop.index }}{% endif %}
                        </div>
                        <div class="leaderboard-cell username">{{ player.username }}</div>
                        <div class="leaderboard-cell score">{{ player.highscore }}</div>
                        <div class="leaderboard-cell date">
                            {{ (player.highscore_time or player.first_played) | to_local_time }}
                        </div>
                    </div>
                    {% endfor %}
                </div>

                {% if current_player %}
                <!-- Eigene Platzierung unterhalb der Top 10 -->
                <div class="leaderboard-header" style="margin-top: 2rem;">
                    <div class="header-item">Deine Platzierung</div>
                    <div class="header-item"></div>
                    <div class="header-item"></div>
                    <div class="header-item"></div>
                </div>
                <div class="leaderboard-row highlight">
                    <div class="leaderboard-cell position">
                        {% if player_rank %}#{{ player_rank }}
                        {% else %}N/A{% endif %}
                    </div>
                    <div class="leaderboard-cell username">{{ current_player.username }}</div>
                    <div class="leaderboard-cell score">{{ current_player.highscore }}</div>
                    <div class="leaderboard-cell date">
                        {% if current_player.highscore_time or current_player.first_played %}
                            {{ (current_player.highscore_time or current_player.first_played) | to_local_time }}
                        {% else %}
                            Noch nicht gespielt
                        {% endif %}
                    </div>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- Rechte Spalte: ZurÃ¼ck-Button -->
        <div class="ranking-right">
            <a href="{{ url_for('homepage') }}" class="thema-button sound-button">
                <i class="fas fa-arrow-left"></i> ZurÃ¼ck zur Themenwahl
            </a>
        </div>
    </div>
{% endblock %}