{% extends "base.html" %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles_legal.css') }}"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
{% endblock %}

{% block body %}
<div class="page-wrapper">

    <div class="legal-box">
        <h1 class="legal-title">Rechtliche Informationen</h1>

        <div class="legal-header-content">

            <div class="legal-info">
                <div class="info-row">
                    <span class="info-label">Name:</span>
                    <span class="info-value">Clash under Minds</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Version:</span>
                    <span class="info-value">1.12.05</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Entwickler:</span>
                    <span class="info-value">Justin Burian<br>Max Schieck</span>
                </div>
            </div>

            <img src="{{ url_for('static', filename='pictures/Icon.png') }}"
                 alt="legal Logo"
                 class="legal-image">

        </div>

        <div class="settings-list"> <div class="setting-item"> <button class="setting-toggle">ðŸ§¾ AGB <i class="fas fa-chevron-down"></i></button> <div class="setting-content"> {% include 'agb_content.html' %}
                </div>
            </div>

            <div class="setting-item"> <button class="setting-toggle">ðŸ”’ DatenschutzerklÃ¤rung <i class="fas fa-chevron-down"></i></button> <div class="setting-content"> {% include 'privacy_content.html' %}
                </div>
            </div>

        </div>

        <div class="link-content">
            <a href="{{ url_for('index') }}" class="back-button sound-button">ZurÃ¼ck zum Login</a>
        </div>
    </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
    const toggles = document.querySelectorAll(".setting-toggle");
    toggles.forEach(toggle => {
        toggle.addEventListener("click", function () {
            const content = this.nextElementSibling;
            const icon = this.querySelector("i");
            const isOpen = content.classList.contains("open"); // PrÃ¼ft CSS-Klasse

            // Alles schlieÃŸen
            document.querySelectorAll(".setting-content.open").forEach(c => {
                if (c !== content) {
                    c.classList.remove("open"); // Entfernt Klasse
                    const otherIcon = c.previousElementSibling.querySelector("i");
                    if (otherIcon) otherIcon.style.transform = "rotate(0deg)";
                }
            });

            // Ggf. Ã¶ffnen oder schlieÃŸen
            if (isOpen) {
                content.classList.remove("open");
                if (icon) icon.style.transform = "rotate(0deg)";
            } else {
                content.classList.add("open"); // Setzt Klasse (CSS macht den Rest)
                if (icon) icon.style.transform = "rotate(180deg)";
            }
        });
    });

    // Sicherstellen, dass beim Laden alles zu ist
    document.querySelectorAll('.setting-content').forEach(c => {
        c.classList.remove('open');
    });
});
</script>

{% endblock %}