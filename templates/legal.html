{% extends "base.html" %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles_legal.css') }}"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
{% endblock %}

{% block body %}
<div class="legal-container">
    <div class="legal-box">
        <h1 class="legal-title">Rechtliches</h1>

        <img src="{{ url_for('static', filename='pictures/Logo-Huhn.png') }}"
             alt="legal Logo"
             class="legal-image">

        <div class="legal-info">
            <div class="info-row">
                <span class="info-label">Gamename:</span>
                <span class="info-value">Clash of Minds</span>
            </div>
            <div class="info-row">
                <span class="info-label">Version:</span>
                <span class="info-value">1.8.12</span>
            </div>
            <div class="info-row">
                <span class="info-label">Entwickler:</span>
                <span class="info-value">Justin Burian<br>Max Schieck</span>
            </div>
        </div>

        <!-- Aufklappbare Boxen fÃ¼r AGB und Datenschutz -->
        <div class="legal-accordion">

            <!-- AGB Box -->
            <div class="accordion-item">
                <button class="accordion-toggle">ðŸ§¾ AGB <i class="fas fa-chevron-down"></i></button>
                <div class="accordion-content">
                    {% include 'agb_content.html' %}
                </div>
            </div>

            <!-- Datenschutz Box -->
            <div class="accordion-item">
                <button class="accordion-toggle">ðŸ”’ DatenschutzerklÃ¤rung <i class="fas fa-chevron-down"></i></button>
                <div class="accordion-content">
                    {% include 'privacy_content.html' %}
                </div>
            </div>

        </div>

        <!-- Buttons -->
        <div class="link-content">
            <a href="{{ url_for('index') }}" class="back-button sound-button">ZurÃ¼ck zum Login</a>
        </div>
    </div>
</div>

<!-- Script fÃ¼r das Aufklappen -->
<script>
document.addEventListener("DOMContentLoaded", function() {
    const toggles = document.querySelectorAll(".accordion-toggle");
    toggles.forEach(toggle => {
        toggle.addEventListener("click", function () {
            const content = this.nextElementSibling;
            const icon = this.querySelector("i");
            const isOpen = content.style.maxHeight && content.style.maxHeight !== "0px";

            // Alles schlieÃŸen
            document.querySelectorAll(".accordion-content").forEach(c => {
                c.style.maxHeight = null;
            });
            document.querySelectorAll(".accordion-toggle i").forEach(i => {
                i.style.transform = "rotate(0deg)";
            });

            // Ggf. Ã¶ffnen
            if (!isOpen) {
                content.style.maxHeight = content.scrollHeight + "px";
                icon.style.transform = "rotate(180deg)";
            }
        });
    });
});
</script>

{% endblock %}

