{% extends "base.html" %} <!-- Erbt von Basis-Template -->

<!--
Rechtliche Informationen-Seite enthÃ¤lt:
    1. Daten zum Spiel
    2. Logo
    3. Akkordeon fÃ¼r AGB und DatenschutzerklÃ¤rung
-->

{% block head %}
    <!-- Seiten-spezifisches Stylesheet -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles_legal.css') }}"/>
    <!-- Font Awesome fÃ¼r Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
{% endblock %}

{% block body %}
<div class="page-wrapper">
    <div class="legal-box">
        <h1 class="legal-title">Rechtliche Informationen</h1>

        <!-- KOPFBEREICH MIT DATEN UND LOGO -->
        <div class="legal-header-content">
            <!-- DATEN-TABELLE -->
            <div class="legal-info">
                <div class="info-row">
                    <span class="info-label">Name:</span>
                    <span class="info-value">Clash under Minds</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Version:</span>
                    <span class="info-value">1.12.05</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Entwickler:</span>
                    <span class="info-value">Justin Burian<br>Max Schieck</span>
                </div>
            </div>

            <!-- LOGO -->
            <img src="{{ url_for('static', filename='pictures/Icon.png') }}"
                 alt="legal Logo"
                 class="legal-image">
        </div>

        <!-- AKKORDEON FÃœR RECHTSDOKUMENTE -->
        <div class="settings-list">
            <!-- 1. ABSCHNITT: ALLGEMEINE GESCHÃ„FTSBEDINGUNGEN -->
            <div class="setting-item">
                <button class="setting-toggle">ðŸ§¾ AGB <i class="fas fa-chevron-down"></i></button>
                <div class="setting-content">
                    {% include 'agb_content.html' %} <!-- Externe AGB-Datei einbinden -->
                </div>
            </div>

            <!-- 2. ABSCHNITT: DATENSCHUTZERKLÃ„RUNG -->
            <div class="setting-item">
                <button class="setting-toggle">ðŸ”’ DatenschutzerklÃ¤rung <i class="fas fa-chevron-down"></i></button>
                <div class="setting-content">
                    {% include 'privacy_content.html' %} <!-- Externe Datenschutz-Datei einbinden -->
                </div>
            </div>
        </div>

        <!-- ZURÃœCK ZUM LOGIN -->
        <div class="link-content">
            <a href="{{ url_for('index') }}" class="back-button sound-button">ZurÃ¼ck zum Login</a>
        </div>
    </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
    // ===============================
    // AKKORDEON-LOGIK FÃœR RECHTSDOKUMENTE
    // ===============================
    const toggles = document.querySelectorAll(".setting-toggle");
    
    toggles.forEach(toggle => {
        toggle.addEventListener("click", function () {
            const content = this.nextElementSibling;
            const icon = this.querySelector("i");
            const isOpen = content.classList.contains("open"); // PrÃ¼ft ob bereits geÃ¶ffnet

            // SchlieÃŸe alle anderen geÃ¶ffneten Abschnitte
            document.querySelectorAll(".setting-content.open").forEach(c => {
                if (c !== content) {
                    c.classList.remove("open"); // Entfernt 'open'-Klasse
                    const otherIcon = c.previousElementSibling.querySelector("i");
                    if (otherIcon) otherIcon.style.transform = "rotate(0deg)"; // Icon zurÃ¼cksetzen
                }
            });

            // Ã–ffne/SchlieÃŸe den angeklickten Abschnitt
            if (isOpen) {
                content.classList.remove("open");
                if (icon) icon.style.transform = "rotate(0deg)";
            } else {
                content.classList.add("open"); // CSS regelt die Animation Ã¼ber max-height
                if (icon) icon.style.transform = "rotate(180deg)"; // Icon drehen
            }
        });
    });

    // ===============================
    // ALLE ABSCHNITTE GESCHLOSSEN
    // ===============================
    document.querySelectorAll('.setting-content').forEach(c => {
        c.classList.remove('open');
    });
});
</script>

{% endblock %}